{% extends "social/social_layout.html" %}
{% block social %}
<h1>Thread: {{ thread.name }}</h1>

<!-- module chat -->
<div id="chat">
    <div>
        <div id="messages" class="scrollarea bg-light rounded px-5" style="height: 65vh;">
            <div id="no-messages-here" class="text-center" style="padding-top: calc(65vh/2);">
                <br>
                <h5><em>There are no messages here yet</em></h5>
                <br>
            </div>
        </div>

        <div id="inputs">
            <div id="inputs_inner" class="pt-3 d-flex">
                <input type="text" placeholder="Message" name="message" id="message-field" aria-label="message input box" class="form-control rounded me-2" required>
                <button type="button" name="send" id="send-btn" aria-label="submit message" class=""><i class="fa-solid fa-paper-plane"></i></i></button>
            </div>

            <span id="error_message" style="color: red;"></span>
        </div>
    </div>
    
    <br>
</div>

<script type="text/javascript" charset="utf-8">
    const username = '{{ current_user.username }}';
    const user_id = '{{ current_user.id }}';
    const thread_id = '{{ message_thread_id }}';
    const message_url = "{{ url_for('socials.social_get_messages', message_thread_id = message_thread_id) }}";
    const other_user_id = '{{ other_user_id }}';
</script>

<script src="{{ url_for('static', filename='js/chat.js')}}"></script>
{% endblock social %}